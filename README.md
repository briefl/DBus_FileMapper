DBus_FileMapper# Dbus_FileMapper

FileMapper - это фреймворк, упрощающий открытие файлов через различные приложения. Он предоставляет удобный интерфейс для регистрации приложений, управления форматами файлов и открытия файлов с помощью зарегистрированных приложений.

# Описание

Демо-приложение позволяет зарегистрировать программы для определенных форматов файлов и определять системные приложение по умолчанию для каждого формата. Кроме того, оно позволяет открывать файлы с помощью зарегистрированных приложений.

# Установка

Расммотрим установку на Linux Unbuntu
Скачайте и установите бесплатную комьюните версию Qt Framework.(https://www.qt.io/product/framework)
![изображение](https://github.com/briefl/FileMapper/assets/168663803/b3618322-8c44-4e8f-b808-d41a5f91d22d)

Далее вам понадобиться Git, откройте терминал:

Установите Git с помощью данной команды
```
$ sudo apt install git
```
Далее перейдите в папку, в которую вы хотите клонировать репризиторий
```
$ cd /путь/к/вашей/папке
```
Клонируйте туда git-репризиторий
```
$ git clone https://github.com/briefl/DBus_FileMapper
```
готово

# Использование

Для корректной работы приложения сначала вам нужно запустить DBus сервис и его интерфейс, чтобы далее работать с его методами.

Перейдите в папку, куда вы склонировали репризиторий:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/93114432-86b0-42b6-94b9-d99236d3b9fb)

Далее в папку dbus_service:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/f8baef32-e983-464d-aaa7-a6150a3a6908)

Далее в папку build:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/962b2e55-b84f-4817-8576-84e16c2c413b)

Откройте папку Desktop_Qt_6_8_0-Debug:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/d9d19152-1ca4-4032-b478-01cea743ed09)

Найдите в ней файл dbus_service:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/1d4e6139-3826-4861-919f-34417887230f)

Нажмите на него правой кнопкой мыши, выберите "свойства" и включите пункт "Исполняемый как приложение":
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/da9ad1da-f6f7-4c3c-8d40-b24bea85459c)


Далее откройте терминал и введите следующее:
```
$ /путь/к/папке/с/клонированым/репризиторием/DBus_FileMapper/dbus_service/build/Desktop_Qt_6_8_0-Debug/dbus_service
```
Результат должен выглядить так:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/72d3f8b6-88c7-4b4e-b144-c1d14d4d1f97)

Теперь, когда мы зарегесрировали наш сервис и интерфейс, мы готовы к использованию нашего приложения.

Для его запуска сначал нам нужно также сделать его исполняемым.

Перейдите в папку, куда вы склонировали репризиторий:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/93114432-86b0-42b6-94b9-d99236d3b9fb)

Далее в папку Dbus_FileMapper:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/06a9f1a7-1c83-43df-950d-512e5b1d4cfd)

Далее в папку build:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/b22d779a-528b-44b4-ac65-4f8a4b77761a)

Откройте папку Desktop_Qt_6_8_0-Debug:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/d9d19152-1ca4-4032-b478-01cea743ed09)

Найдите в ней файл Dbus_FileMapper:
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/af74fa37-1679-4232-87e8-72feced3f8bb)

Нажмите на него правой кнопкой мыши, выберите "свойства" и включите пункт "Исполняемый как приложение":
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/5db3886e-1f15-47c8-b35e-62f391c64142)

Готово, теперь мы можем корректно использовать наше приложение.(Просто откройте файл DBus_FileMapper, который вы только что сделали Исполняемым)

# Примеры

Рассмотрим пример работы в Linux Unbuntu, в котором пользователь хочет открыть файл формата txt, предварительно дав понять приложению с помощью чего его открывать
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/4fe40035-cf81-4099-b392-7ff1059ad3c7)

Здесь мы вводим путь к исполняемому файлу приложения, в данном случае к Текстовому редактору и формат данных, который должен открываться через это приложение, то есть txt

Нажмём кнопку Register Application и после Show Registered Formats и кнопку Show Registered Formats
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/8d32bc6c-60af-4741-be15-0f3c15d368e0)
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/1d4a4732-3f8f-46ba-b149-831a22426395)

Теперь приложение Текстовый редактор зарегестрировано для открытия файлов .txt и мы можем открыть какой-либо файл указав к нему путь и нажать на кнопку Open File
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/3d89f3f2-2866-4e70-93a9-e61f703f51d6)


В этом примеры мы зарегестрировали приложение Libre Office Writer для открытия txt файлов и вот что получилось
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/c12b5f08-f484-47a6-8a61-a1d95d1b40a1)


Также, если пользователь укажет путь к файлу, на формат которого не зарегестрировано ни одно приложение, то программа откроет его через приложение по умолчанию для этого формата и также зарегестрирует дефолтное приложение для него
![изображение](https://github.com/briefl/DBus_FileMapper/assets/168663803/bc39d9c1-f507-4237-82f2-4853d66805de)

